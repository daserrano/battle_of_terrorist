<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Battle of terrorist</title>
	<link rel = "stylesheet" href = "main.css"/>
	<!-- Se crea un script que indica donde esta processing.js !-->
	<script src="processing.js"></script>
</head>
<body>

	<!-- Se crea el script indicando de que tipo es processing.js !-->
	<script type="application/processing" data-processing-target="mycanvas">
		/* @pjs font="transformer.ttf" */
		//Se da la orden de precarga de la fuente que vamos a utilizar
		//se crean las variables que vamos a utilizar

		//VARIABLES DE TIPO PImage
		PImage primerPersonaje, logo, segundoPersonaje, tercerPersonaje, cuartoPersonaje, MOD;

		//VARIABLES DE TIPO PFont
		PFont font_name;


		float xpos;
		float ypos;
		float drag = 1;
		RectButton buttonPersonaje1;
		boolean locked = false;

		//BOTON

		//Variables que indican la posicion de X e Y donde empezaran los rect
		int rectX1, rectY1, rectX2, rectY2, rectX3, rectY3, rectX4, rectY4; 
		
		//Aqui se configuran las opciones de los rect
		color rectColor, baseColor;
		color rectHighlight;
		color currentColor;

		//Se crea el boleano que indicara si el raton esta encima del rect o no
		boolean rectOver = false;


		//Funcion setup
		void setup() 
		{
			//Estas lineas determinarán el tamaño y el framerate de nuestro canvas
			size(1000, 500);
			frameRate(60);

			xpos = width/1.5;
			ypos = height/1.5;

			//Empezamos a cargar los elementos del canvas
			primerPersonaje = loadImage("img/1FIN.png");
			segundoPersonaje = loadImage("img/2FIN.png");
			tercerPersonaje = loadImage("img/3FIN.png");
			cuartoPersonaje = loadImage("img/4FIN.png");
			MOD = loadImage("img/ratonMOD.png");	
			logo = loadImage("img/logo1.png")
			font_name = createFont("transformer", 65);
			textFont(font_name);
			font_name = loadFont("transformer.ttf");
			textFont(font_name, 65);
			fill(204, 204, 0);
			
			//BOTON 
			//Se dan los valores de X e Y donde comenzaran los botones(rect)
			rectX1 = 50;
			rectY1 = 350;

			rectX2 = 300;
			rectY2 = 350;


			rectX3 = 550;
			rectY3 = 350;

			rectX4 = 800;
			rectY4 = 350;

		}

		//Funcion draw
		void draw() 
		{			 
			//Damos valor color(0) al fondo
			background(0);
			text("Elige un personsaje", 200, 250);

			//Dibujamos las imagenes que estaran contenidas en nuestro canvas
			image(logo, 400, 25, 200, 100, 7);
		    image(primerPersonaje, 100, 270,50,70);
            image(segundoPersonaje, 350, 270, 50, 70);
            image(tercerPersonaje, 600, 270, 50, 70);
            image(cuartoPersonaje, 850, 270, 50, 70);
            float difx = mouseX - xpos-MOD.width/2;
            if(abs(difx) > 1.0) {
            	xpos = xpos + difx/drag;
            	xpos = constrain(xpos, 0, width-MOD.width);
            }  

            float dify = mouseY - ypos-MOD.height/2;
            if(abs(dify) > 1.0) {
            	ypos = ypos + dify/drag;
            	ypos = constrain(ypos, 0, height-MOD.height);
            }  

  			// Display the sprite at the position xpos, ypos
  			image(MOD, xpos, ypos);

  			if(mousePressed == true) {
  				noCursor();
  			} else {

  				noCursor();
  			}
  			
  			//BOTON
  			update(mouseX, mouseY);
  							fill(204, 204, 0);
  			if (rectOver) {
  				text("JACK", 60, 395);			
  				text("PUNK", 310, 395);
  				text("SPOK", 560, 395);
  				text("BILL", 810, 395);
  				noFill();


  			} else {
  				//fill(rectColor);
  			}
  			stroke(255);
  			rect(rectX1, rectY1, 150, 50, 10);
  			rect(rectX2, rectY2, 150, 50, 10);
  			rect(rectX3, rectY3, 150, 50, 10);
  			rect(rectX4, rectY4, 150, 50, 10);


			fill(204, 204, 0);


  		}



//BOTON
void update(int x, int y) {
	if ( overRect(rectX1, rectY1, 150, 50) || overRect(rectX2, rectY2, 150, 50) || overRect(rectX3, rectY3, 150, 50) || overRect(rectX4, rectY4, 150, 50)) {
		rectOver = true;
  				stroke(100);
		
	} else {
		rectOver = false;
	}
}

void mousePressed() {
	if (rectOver) {
		currentColor = rectColor;
	}
}


boolean overRect(int x, int y, int width, int height)  {
	if (mouseX >= x && mouseX <= x+width && 
		mouseY >= y && mouseY <= y+height) {
		return true;
} else {
	return false;
}
}





</script>

<canvas width="1000" height="500" id="mycanvas">

</canvas>

</body>
</html>