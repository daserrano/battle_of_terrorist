<html>
<head>
  <script src="processing.js"></script>
</head>
<body><h1>Processing.js</h1>
<h2>Simple processing.js via JavaScript</h2>
<p>Clock</p>

<p><canvas id="canvas1" width="200" height="200"></canvas></p>

<script id="script1" type="text/javascript">

// Simple way to attach js code to the canvas is by using a function
function sketchProc(processing) {
    bg = ps.loadImage '1', 'png', -> ps.draw()
    /* @pjs preload="img/30.jpeg"; */

processing.PImage bg;
int a; 


processing.size(200,200);
  processing.frameRate(30);
bg = processing.processing.loadImage("milan_rubbish.jpg");

  processing.draw = function() {
  
  processing.background(bg);

  a = (a + 1)%(processing.width+32);
  processing.stroke(226, 204, 0);
  processing.line(0, a, processing.width, a-26);
  processing.line(0, a-6, processing.width, a-32);


  };
  
}

var canvas = document.getElementById("canvas1");
// attaching the sketchProc function to the canvas
var p = new Processing(canvas, sketchProc);
// p.exit(); to detach it
</script>
</body>
</html>